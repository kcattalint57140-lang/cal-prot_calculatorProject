/* ------------------------------------------- */
/* GLOBAL and CENTERING STYLES */
/* ------------------------------------------- */
/* ** Fix 1: Use box-sizing so padding/border do not increase the element's size (Crucial for layout) ** */
*, *::before, *::after {
    box-sizing: border-box;
}

html, body {
    height: 100%; /* Set full screen height */
    margin: 0;
    padding: 0;
    /* ** Fix 2: Prevent Scrolling (Crucial) ** */
    overflow: hidden; 
}
body {
    font-family: sans-serif;
    /* ** Fix 3: Use Flexbox for perfect vertical and horizontal centering ** */
    display: flex; 
    justify-content: center; /* Center horizontally */
    align-items: center;     /* Center vertically */
    position: relative;
    /* Remove padding from body to ensure actual 100% height */
}

/* ** Fix 4: Wrapper for centering and size limits ** */
.main-wrapper {
    width: 100%;
    max-width: 640px; 
    max-height: 100%; /* Limit height not to exceed Body */
    margin: auto; 
    padding: 20px 10px; /* Add Outer Padding instead of Body padding */
}

.container {
    width: 100%; 
    margin: 0; 
    border: 1px solid #ccc;
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 5px;
}

/* ------------------------------------------- */
/* 1. Stacked Input Group Style (Unchanged) */
/* ------------------------------------------- */
.input-group {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
}
.input-group label {
    min-width: 60px; 
    font-weight: bold;
}
.input-group input {
    width: 100%; 
    padding: 5px;
    border-radius: 8px;
    border: 1px solid #ccc;
    margin-right: 0;
}

/* ------------------------------------------- */
/* 2. TDEE Text Organization (Unchanged) */
/* ------------------------------------------- */
.title_ {
    margin-top: 25px;

}
.detailed {
    margin-bottom: 15px;
}
.detailed p {
    margin: 5px 0;
    font-weight: normal; 
    font-size: 0.90em;

    
}

button {
    padding: 5px 10px;
    transition: all 0.2s ease-in-out; 
}
button:hover{
    border-color: antiquewhite;
}
.totalCalProt, .needMore {
    margin-top: 7px;
    padding: 10px;
    background-color: #f0f0f0;
    border-radius: 5px;
}
p {
    margin: 5px 0;
    font-weight: bold;
}

/* ------------------------------------------- */
/* 3. Bottom Action Buttons Bar (Grouped and Right-Aligned) */
/* ------------------------------------------- */
.action-buttons-bar {
    width: 100%; 
    margin: 10px auto; 
    display: flex;
    /* Align to the right */
    justify-content: flex-end; 
    /* ** CRITICAL FIX: Add padding (20px) to match the content inside .container ** */
    padding: 0 20px; 
}
.action-buttons-bar button {
    /* ** CRITICAL FIX: Remove margin-left to make buttons stick together ** */
    margin-left: 0; 
    position: static; 
}
/* ** Fix 6: CSS for seamless button grouping ** */
#theme-toggle-btn, #history-detailed, #reset-btn {
    /* Remove default border radius */
    border-radius: 0; 
}
#theme-toggle-btn {
    /* Apply rounded border only to the left side of the leftmost button */
    border-top-left-radius: 8px;
    border-bottom-left-radius: 8px;
    /* Remove the right border to merge with the next button */
    border-right: none; 
}
#reset-btn {
    /* Apply rounded border only to the right side of the rightmost button */
    border-top-right-radius: 8px;
    border-bottom-right-radius: 8px;
}
#history-detailed {
    /* The middle button must have no left or right borders */
    border-left: none;
    border-right: none;
}
.theme-btn {
    border: 1px solid #ccc;
    cursor: pointer;
}

/* Remove all absolute positioning code for the bottom buttons */
#theme-toggle-btn, #history-detailed, .reset-btn-position {
    right: auto !important; 
    margin-right: auto; 
    position: static !important; 
    z-index: auto;
}


/* ------------------------------------------- */
/* Dark Mode CSS (Unchanged logic, English comments) */
/* ------------------------------------------- */
body.dark-mode {
    background-color: #2c2c2c;
    color: #f0f0f0;
}
body.dark-mode .container {
    border: 1px solid #f0f0f0;
}
body.dark-mode .inputDetailed ,
body.dark-mode .theme-btn ,
body.dark-mode .theme-text{
    background-color: #2c2c2c;
    color: #f0f0f0;
}
body.dark-mode button {
    background-color: #383838;
    color: #f0f0f0;
    border:1px solid #f0f0f0;
}
body.dark-mode button:hover {
    background-color: #444444;
    cursor: pointer;
}
body.dark-mode .totalCalProt,
body.dark-mode .needMore {
    background-color: #2c2c2c; 
    border: 1px solid #f0f0f0;
}
body.dark-mode .totalCalProt p,
body.dark-mode .needMore p {
    border: none;
}
body.dark-mode .action-buttons-bar button {
    background-color: #383838;
    color: #f0f0f0;
    border: 1px solid #f0f0f0;
}
body.dark-mode #theme-toggle-btn {
    border-right: none !important;
}
body.dark-mode #history-detailed {
    border-left: none !important;
    border-right: none !important;
}


/* ------------------------------------------- */
/* 4. Responsive Adjustments for Mobile (Max Width 620px) */
/* ------------------------------------------- */
@media (max-width: 620px) {
    body {
        padding: 0; 
    }
    .main-wrapper {
        margin: auto; 
        padding: 10px; /* Outer padding for mobile */
    }
    .container {
        max-width: 100%; 
        margin: 0;    
        padding: 15px; /* Inner padding on mobile */
    }
    
    /* Input field stacking for mobile */
    .add-data {
        display: block; 
    }
    
    .input-group {
        display: flex;
        flex-direction: column; 
        align-items: flex-start;
    }
    .input-group label {
        margin-bottom: 5px;
    }
    .input-group input {
        width: 100%;
    }
    
    .add-data button {
        /* Remove width calc to let Add/Bulking/Cutting buttons stick together */
        width: auto; 
        margin-top: 5px;
        box-sizing: border-box; 
    }
    /* Make Add/Bulking/Cutting buttons stick together */
    .container-btn button {
        margin-right: -1px; /* Pull buttons closer */
    }

    /* Action buttons bar for mobile */
    .action-buttons-bar {
        max-width: 100%;
        margin: 10px auto; 
        /* ** Fix 7: Padding 15px to match .container padding on mobile ** */
        padding: 0 15px; 
        justify-content: flex-end; 
    }
    
    .action-buttons-bar button {
        /* Remove margin to make buttons stick together */
        margin-left: 0; 
    }

    /* Adjust H1 size for mobile */
    h1 {
        font-size: 1.5em;
    }
}